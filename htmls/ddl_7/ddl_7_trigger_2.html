<!doctype html>
<html lang="en">

<body>
    <div id="header" />
    </div>
    <div class="container">
        <div class="row justify-content-center">
            <div class="col-12 col-sm-8 col-md-6">
                <h5 class="mt-4 text-center" data-target="#definisi-fungsi-ddl"><b>Query Untuk Membuat TRIGGER</b></h5>
                <div class="text-center">
                    <img class="center-image mb-4"
                        src="https://img.freepik.com/free-vector/cloud-information-storage-collocated-cloud-computing-data-synchronization-harmonization-available-accesssible-digital-connected-backup-vector-isolated-concept-metaphor-illustration_335657-2791.jpg?w=826&t=st=1690074473~exp=1690075073~hmac=67928024382809268880c4dd21648aef27eb2696306307a20b90b2759f651a46"
                        alt="Pengertian DDL" width="330" height="auto" class="responsive">
                </div>
                <h6><b>Query Dasar Trigger</b></h6>
                <p>
                <pre><code class="language-sql">CREATE TRIGGER trigger_name 
trigger_time trigger_event 
ON table_name FOR EACH ROW 
trigger_body;</code></pre>
                <b>Penjelasan Query</b>
                <ul>
                    <li>
                        <b>trigger_name,</b> Nama dari trigger.
                    </li>
                    <li><b>trigger_time</b>, Ini bisa BEFORE atau AFTER, yaitu trigger dijalankan sebelum atau setelah
                        peristiwa.</li>
                    <li><b>trigger_event</b>, Peristiwa yang menyebabkan trigger diaktifkan. Ini bisa INSERT, UPDATE,
                        atau
                        DELETE.</li>
                    <li><b>table_name</b>, Nama tabel di mana trigger akan diaktifkan.</li>
                    <li><b>trigger_body</b>, Blok kode yang dijalankan ketika trigger diaktifkan.</li>
                </ul>
                </p>
                <h6><b>Contoh</b></h6>
                <p>Contoh kali ini akan menggunakan database perpustakaan yang sudah pernah dibuat sebelumnya.</p>
                <p>
                <pre><code class="language-sql">DELIMITER //
CREATE TRIGGER trg_insert_peminjaman
AFTER INSERT
ON peminjaman
FOR EACH ROW
BEGIN
-- contoh kode trigger, misalnya mengurangi stok buku saat peminjaman
UPDATE buku SET stok = stok - 1 WHERE id_buku = NEW.id_buku;
END;
// DELIMITER;</code></pre>
                </p>
            </div>
        </div>
    </div>
    <div id="footer"></div>
    <script src="../assets/jquery-3.7.0.min.js"></script>
    <script>
        $(function () {
            $("#header").load("../components/header.html");
            $("#footer").load("../components/footer.html");
        });
    </script>
</body>

</html>